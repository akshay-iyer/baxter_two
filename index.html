<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Baxter two by patilnabhi</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Baxter two</h1>
      <h2 class="project-tagline"></h2>
      <a href="https://github.com/patilnabhi/baxter_two" class="btn">View on GitHub</a>
      <a href="https://github.com/patilnabhi/baxter_two/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/patilnabhi/baxter_two/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="baxter-pick-n-place-project" class="anchor" href="#baxter-pick-n-place-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Baxter Pick 'n' Place Project</h1>

<h2>
<a id="about" class="anchor" href="#about" aria-hidden="true"><span class="octicon octicon-link"></span></a>About</h2>

<p>A ROS project as part of ME495 - Embedded Systems in Robotics course at Northwestern University (NU). </p>



<p>To launch (in a ROS workspace), type in terminal:</p>

<pre><code>cd ~/baxter_ws/
. baxter.sh
rosrun baxter_tools enable_robot.py -e
roslaunch baxter_two baxter_two.launch
</code></pre>

<h2>
<a id="goal-of-project" class="anchor" href="#goal-of-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Goal of Project</h2>

<p><strong>Use baxter to pick and place objects from one location to another</strong></p>

<h2>
<a id="tutorial" class="anchor" href="#tutorial" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tutorial</h2>

<p>The following sections describe contents of this package:</p>

<h3>
<a id="1-prerequisites" class="anchor" href="#1-prerequisites" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. Prerequisites</h3>

<p>The following packages need to be installed for <code>baxter_two</code> package to work: </p>

<ol>
<li>[Baxter SDK] - to be installed in baxter_ws/src directory</li>
<li><a href="https://github.com/RethinkRobotics/sdk-docs/wiki/MoveIt-Tutorial#tutorial">MoveIt!</a></li>
<li>
<a href="https://github.com/mikeferguson/moveit_python">moveit_python</a> by Michael Ferguson - to be installed in baxter_ws/src directory</li>
<li>Baxter Simulator - v1.1 (ONLY needed if NOT working with actual baxter robot)</li>
</ol>

<h3>
<a id="2-package-contents" class="anchor" href="#2-package-contents" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. Package Contents</h3>

<p>The <code>baxter_two</code> package consists of following main files:</p>

<ul>
<li>
<p><strong>baxter_two.launch</strong>: A launch file that starts the following nodes:</p>

<ul>
<li>joint_action_trajectory_server.py (required for MoveIt!)</li>
<li>MoveIt! with rviz</li>
<li>baxter_img.cpp</li>
<li>baxter_pnp.py</li>
</ul>
</li>
<li><p><strong>baxter_img.cpp</strong>: subscribes to the <code>/cameras/right_hand_camera/image</code> topic, calculates object locations using OpenCV tools, and publishes this information to <code>baxter_pnp</code> node via a <code>PoseArray()</code> message</p></li>
<li>
<p><strong>baxter_pnp.py</strong>: subscribes to the topic (called <code>Dpos</code>) published by <em>baxter_img</em>, and calls <code>PlanningSceneInterface</code> and <code>MoveGroupInterface</code> classes from <code>moveit_python</code> bindings to add collision objects and move baxter's arms respectively</p>

<ul>
<li>Allows both arms to be moved at the same time</li>
<li>Allows velocity scaling using <code>max_velocity_scaling_factor</code>
</li>
<li>Uses <code>baxter_interface</code> for gripper control</li>
</ul>
</li>
</ul>

<h3>
<a id="3-step-by-step-guide" class="anchor" href="#3-step-by-step-guide" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. Step-by-step guide</h3>

<p>This section gives a step-by-step approach to run a successful baxter pick and place with this package. </p>

<p>a. Items needed - a table of height ~ 0.6 m; square blocks (with green top surface); a baxter robot with electric parallel grippers; an ethernet cable (to connect baxter to computer); 
b. Set up networking with baxter
c. </p>

<h2>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a>Overview</h2>

<p>This package utilizes tools offered in several different existing packages. The primary package used in Baxter's pick and place movements is the <a href="https://github.com/RethinkRobotics/sdk-docs/wiki/MoveIt-Tutorial#tutorial">MoveIt!</a> motion planning framework, paired with the <a href="https://github.com/mikeferguson/moveit_python">moveit_python</a> Python bindings created by Michael Ferguson. Additionally, <a href="http://opencv.org/">OpenCV</a> was used to locate the objects using one of Baxter's built-in cameras. This pick-and-place technique utilizes the built-in camera on Baxter's right arm to search for green cubes in the task space. Large green cubes are stacked on top of one another in the goal space, while small green cubes are simply placed in the goal space. Positions of objects can be dynamically repositioned and reoriented, and Baxter will continue to pick and place these object until there are no more object in the task space. </p>

<h2>
<a id="important-nodes-and-topics" class="anchor" href="#important-nodes-and-topics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Important Nodes and Topics</h2>

<p>There are two nodes that are run in this package. The first node, <code>baxter_img</code>, subscribes to the <code>/cameras/right_hand_camera/image</code> topic, calculates cube locations using OpenCV tools, and publishes a <code>PoseArray()</code> message via the <code>DPos</code> topic to the second node, <code>baxter_pnp</code>. <code>baxter_pnp</code> then subscribes to the <code>DPos</code> published to by <code>baxter_img</code>. Then, it utilizes <code>PlanningSceneInterface</code> and <code>MoveGroupInterface</code> from <em>moveit_python</em> to create Baxter's world including the detected objects and plan/execute paths. </p>

<h2>
<a id="future-work" class="anchor" href="#future-work" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future Work</h2>

<ul>
<li><p>One potential area of improvement for this package is in the camera calibration. currently, variations in surrounding lighting affect the object detection success. Using more finely-tuned methods of calibrating the camera will minimize the lighting issue. </p></li>
<li><p>Another area is in creating a Graphical User Interface that allows the user to click an object in the virtual world created by Baxter, and pick and place that particular item. In the current state, Baxter will pick up the object that it detects to be closest to itself. Currently, a GUI is under development that utilizes Gazebo pugin functionality. This GUI, when complete, would allow the user to choose an object presented in the Gazebo world, and click a button to execute the pick-and-place action.</p></li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/patilnabhi/baxter_two">Baxter two</a> is maintained by <a href="https://github.com/patilnabhi">patilnabhi</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
